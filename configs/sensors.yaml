# ============================================================
# 传感器地址映射配置文件
# ============================================================
# 功能: 定义 PLC 数据块中各传感器的地址偏移量
# 格式: DB{number}, Offset {byte_offset}, Type {data_type}
# ============================================================

# 回转窑传感器地址映射模板
# 所有回转窑使用相同的地址结构，仅 DB 块编号不同
rotary_kiln_template:
  # 温度数据 (8个温区)
  temperature_zones:
    - zone_id: 1
      db_offset: 0
      data_type: "WORD"      # uint16
      scale: 0.1             # 十分位
      unit: "°C"
      
    - zone_id: 2
      db_offset: 2
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 3
      db_offset: 4
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 4
      db_offset: 6
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 5
      db_offset: 8
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 6
      db_offset: 10
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 7
      db_offset: 12
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 8
      db_offset: 14
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
  
  # 能耗数据
  energy:
    voltage:
      db_offset: 20
      data_type: "WORD"
      scale: 0.1
      unit: "V"
      
    current:
      db_offset: 22
      data_type: "WORD"
      scale: 0.1
      unit: "A"
      
    power:
      db_offset: 24
      data_type: "WORD"
      scale: 1
      unit: "W"
      
    total_energy:
      db_offset: 26
      data_type: "DWORD"
      scale: 1
      unit: "kWh"
  
  # 下料系统
  feed_system:
    feed_speed:
      db_offset: 30
      data_type: "WORD"
      scale: 1
      unit: "kg/h"
      
    hopper_weight:
      db_offset: 32
      data_type: "WORD"
      scale: 1
      unit: "kg"
  
  # 状态位
  status:
    is_running:
      db_offset: 34
      bit_offset: 0
      data_type: "BOOL"

# 辊道窑传感器地址映射模板
roller_kiln_template:
  # 温度数据 (12个温区)
  temperature_zones:
    - zone_id: 1
      db_offset: 0
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 2
      db_offset: 2
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 3
      db_offset: 4
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 4
      db_offset: 6
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 5
      db_offset: 8
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 6
      db_offset: 10
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 7
      db_offset: 12
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 8
      db_offset: 14
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 9
      db_offset: 16
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 10
      db_offset: 18
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 11
      db_offset: 20
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
      
    - zone_id: 12
      db_offset: 22
      data_type: "WORD"
      scale: 0.1
      unit: "°C"
  
  # 能耗数据
  energy:
    voltage:
      db_offset: 30
      data_type: "WORD"
      scale: 0.1
      unit: "V"
      
    current:
      db_offset: 32
      data_type: "WORD"
      scale: 0.1
      unit: "A"
      
    power:
      db_offset: 34
      data_type: "WORD"
      scale: 1
      unit: "W"
      
    total_energy:
      db_offset: 36
      data_type: "DWORD"
      scale: 1
      unit: "kWh"
  
  # 状态位
  status:
    is_running:
      db_offset: 40
      bit_offset: 0
      data_type: "BOOL"

# SCR设备传感器地址映射模板
scr_template:
  # 风机数据 (4台)
  fans:
    - fan_id: 1
      power:
        db_offset: 0
        data_type: "WORD"
        scale: 1
        unit: "W"
      cumulative_energy:
        db_offset: 2
        data_type: "DWORD"
        scale: 1
        unit: "kWh"
      status:
        db_offset: 6
        bit_offset: 0
        data_type: "BOOL"
        
    - fan_id: 2
      power:
        db_offset: 10
        data_type: "WORD"
        scale: 1
        unit: "W"
      cumulative_energy:
        db_offset: 12
        data_type: "DWORD"
        scale: 1
        unit: "kWh"
      status:
        db_offset: 16
        bit_offset: 0
        data_type: "BOOL"
        
    - fan_id: 3
      power:
        db_offset: 20
        data_type: "WORD"
        scale: 1
        unit: "W"
      cumulative_energy:
        db_offset: 22
        data_type: "DWORD"
        scale: 1
        unit: "kWh"
      status:
        db_offset: 26
        bit_offset: 0
        data_type: "BOOL"
        
    - fan_id: 4
      power:
        db_offset: 30
        data_type: "WORD"
        scale: 1
        unit: "W"
      cumulative_energy:
        db_offset: 32
        data_type: "DWORD"
        scale: 1
        unit: "kWh"
      status:
        db_offset: 36
        bit_offset: 0
        data_type: "BOOL"
  
  # 氨水泵数据 (2台)
  pumps:
    - pump_id: 1
      power:
        db_offset: 50
        data_type: "WORD"
        scale: 1
        unit: "W"
      cumulative_energy:
        db_offset: 52
        data_type: "DWORD"
        scale: 1
        unit: "kWh"
      status:
        db_offset: 56
        bit_offset: 0
        data_type: "BOOL"
        
    - pump_id: 2
      power:
        db_offset: 60
        data_type: "WORD"
        scale: 1
        unit: "W"
      cumulative_energy:
        db_offset: 62
        data_type: "DWORD"
        scale: 1
        unit: "kWh"
      status:
        db_offset: 66
        bit_offset: 0
        data_type: "BOOL"
  
  # 燃气管路数据 (2条)
  gas_pipelines:
    - pipeline_id: 1
      flow_rate:
        db_offset: 80
        data_type: "WORD"
        scale: 0.1
        unit: "m³/h"
      cumulative_volume:
        db_offset: 82
        data_type: "DWORD"
        scale: 1
        unit: "m³"
        
    - pipeline_id: 2
      flow_rate:
        db_offset: 90
        data_type: "WORD"
        scale: 0.1
        unit: "m³/h"
      cumulative_volume:
        db_offset: 92
        data_type: "DWORD"
        scale: 1
        unit: "m³"
